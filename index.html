<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Receiver</title>
    <style>
      body {
        backgrund-color: white;
      }
    </style>
</head>
<body>
  Ejemplo de receptor
  <script src="//www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
  <cast-media-player></cast-media-player>
  <script>


    var context = cast.framework.CastReceiverContext.getInstance();
    context.addCustomMessageListener('urn:x-cast:ar.com.bondus', function(event) {
      console.log('message', event);
    })
    context.start();

/*
    console.log('cast', cast);
    console.log('cast.receiver', cast.receiver);
    console.log('cast.receiver.CastReceiverManager', cast.receiver.CastReceiverManager);
    console.log('cast.receiver.CastReceiverManager.getInstance()', cast.receiver.CastReceiverManager.getInstance());

    var castReceiverManager = cast.receiver.CastReceiverManager.getInstance();
    castReceiverManager.onReady = function(event) {
      console.log('castReceiverManager.onReady', event);
    }

    castReceiverManager.onSenderConnected = function(event) {
      console.log('castReceiverManager.onSenderConnected', event);
    }

    castReceiverManager.onSenderDisconnected = function(event) {
      console.log('castReceiverManager.onSenderDisconnected', event);
    }

    var messageBus = castReceiverManager.getCastMessageBus('urn:x-cast:ar.com.bondus');
    messageBus.onMessage = function(event) {
      console.log('messageBus.onMessage', event);
    }

    castReceiverManager.start();
*/
    //cast.framework.CastReceiverContext.getInstance().start();
  </script>
</body>
</html>
